<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
     <head>
          <meta name="viewport" content="width=device-width; height=device-height; user-scalable=no" />
          <meta http-equiv="Content-type" content="text/html; charset=utf-8">
          <title>Beer Me</title>
          <link rel="stylesheet" href="css/master.css" type="text/css" media="screen" />
          <style type="text/css">
          body, img { margin: 0; padding:0; border: 0; }
		  #map { width: 100%; height: 100%; z-index:1; }
          </style>
          <script type="text/javascript" charset="utf-8" src="js/phonegap.0.9.4.js"></script>
          <script type="text/javascript">
       // Wait for PhoneGap to load
          //
          function onLoad() {
              document.addEventListener("deviceready", onDeviceReady, false);
          }

          // PhoneGap is ready
          //
          function onDeviceReady() {
        	  document.getElementById('loading').innerHTML = "Loading...";
              navigator.geolocation.getCurrentPosition(onSuccess, onError,{ enableHighAccuracy: true });
          }

          // onSuccess Geolocation
          //
          function onSuccess(position) {
        	  var keyApi = "ABQIAAAAKgQd4DOhwm0ABCIasRkNmhQjE9-vhPTCeHUVmsyTRrZa6-Te5hTILsnm7GQaJRumpQsT_jUTlulzmw";
              var element = document.getElementById('map');
              var coords = position.coords;
              var currentPos = 
            	  'Latitude: '   + position.coords.latitude  +
            	  'Longitude: '  + position.coords.longitude +
              	  'Timestamp: '  + new Date(position.timestamp);
              document.getElementById('loading').innerHTML = currentPos;
              // Call for static google maps data - make sure you use your own Google Maps API key!
              var url = "http://maps.google.com/maps/api/staticmap?center=" + coords.latitude + "," + coords.longitude + "&zoom=13&size=320x480&maptype=roadmap&key="+ keyApi +"&sensor=true";
              element.setAttribute('src',url);
          }

          // onError Callback receives a PositionError object
          //
          function onError(error) {
        	  document.getElementById('loading').innerHTML = 'code: '   + error.code  +' message: ' + error.message;              
          }                
          </script>
     </head>
     <body onload="onLoad();">
     	  <a href="index.html">Home page</a>	
     	  <div id="loading"></div>
          <img id="map" />          
     </body>
</html>